<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>å–æ°´æ‰“å¡ - æµ‹è¯•é¡µé¢</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .test-section {
            background: white;
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        h1 {
            color: #667eea;
        }
        h2 {
            color: #333;
            border-bottom: 2px solid #667eea;
            padding-bottom: 10px;
        }
        .status {
            padding: 10px;
            margin: 10px 0;
            border-radius: 4px;
        }
        .success {
            background: #d4edda;
            color: #155724;
        }
        .error {
            background: #f8d7da;
            color: #721c24;
        }
        button {
            background: #667eea;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            margin: 5px;
        }
        button:hover {
            background: #5568d3;
        }
        .link {
            display: inline-block;
            margin: 10px 0;
            padding: 10px 20px;
            background: #4facfe;
            color: white;
            text-decoration: none;
            border-radius: 4px;
        }
        .link:hover {
            background: #3d9ce6;
        }
    </style>
</head>
<body>
    <h1>ğŸ’§ å–æ°´æ‰“å¡åº”ç”¨ - æµ‹è¯•é¡µé¢</h1>

    <div class="test-section">
        <h2>åº”ç”¨çŠ¶æ€</h2>
        <div id="appStatus" class="status">æ£€æŸ¥ä¸­...</div>
        <a href="index.html" class="link">æ‰“å¼€åº”ç”¨</a>
    </div>

    <div class="test-section">
        <h2>åŠŸèƒ½æµ‹è¯•</h2>
        <button onclick="testStorage()">æµ‹è¯•å­˜å‚¨åŠŸèƒ½</button>
        <button onclick="testToday()">æµ‹è¯•ä»Šæ—¥ç»Ÿè®¡</button>
        <button onclick="clearData()">æ¸…ç©ºæµ‹è¯•æ•°æ®</button>
        <div id="testResults"></div>
    </div>

    <div class="test-section">
        <h2>é¡¹ç›®ä¿¡æ¯</h2>
        <ul>
            <li><strong>åº”ç”¨åç§°ï¼š</strong>å–æ°´æ‰“å¡</li>
            <li><strong>ç‰ˆæœ¬ï¼š</strong>1.0.0</li>
            <li><strong>åŒ…åï¼š</strong>com.ruthirsty.app</li>
            <li><strong>å¹³å°ï¼š</strong>Android, Browser</li>
        </ul>
    </div>

    <div class="test-section">
        <h2>å¿«é€Ÿå¼€å§‹</h2>
        <pre style="background: #f8f9fa; padding: 15px; border-radius: 4px; overflow-x: auto;">
# æµè§ˆå™¨æµ‹è¯•
npm run serve

# æˆ–ç›´æ¥è¿è¡Œ
cordova run browser

# Android æ„å»ºï¼ˆéœ€è¦é…ç½® Android SDKï¼‰
cordova build android
cordova run android
        </pre>
    </div>

    <script>
        // Check if app files exist
        window.onload = function() {
            checkAppStatus();
        };

        function checkAppStatus() {
            const statusDiv = document.getElementById('appStatus');

            // Check if we can access the app
            fetch('index.html')
                .then(response => {
                    if (response.ok) {
                        statusDiv.className = 'status success';
                        statusDiv.innerHTML = 'âœ… åº”ç”¨æ–‡ä»¶æ­£å¸¸ï¼Œå¯ä»¥å¼€å§‹ä½¿ç”¨ï¼';
                    } else {
                        statusDiv.className = 'status error';
                        statusDiv.innerHTML = 'âŒ æ— æ³•è®¿é—®åº”ç”¨æ–‡ä»¶';
                    }
                })
                .catch(error => {
                    statusDiv.className = 'status error';
                    statusDiv.innerHTML = 'âŒ æ£€æŸ¥å¤±è´¥: ' + error.message;
                });
        }

        function testStorage() {
            const resultsDiv = document.getElementById('testResults');
            try {
                // Test localStorage
                const testKey = 'water_records_test';
                const testData = [
                    { id: Date.now(), time: new Date().toLocaleString() }
                ];

                localStorage.setItem(testKey, JSON.stringify(testData));
                const retrieved = JSON.parse(localStorage.getItem(testKey));
                localStorage.removeItem(testKey);

                if (retrieved && retrieved.length === 1) {
                    resultsDiv.innerHTML = '<div class="status success">âœ… å­˜å‚¨åŠŸèƒ½æµ‹è¯•é€šè¿‡</div>';
                } else {
                    resultsDiv.innerHTML = '<div class="status error">âŒ å­˜å‚¨åŠŸèƒ½æµ‹è¯•å¤±è´¥</div>';
                }
            } catch (error) {
                resultsDiv.innerHTML = '<div class="status error">âŒ æµ‹è¯•å‡ºé”™: ' + error.message + '</div>';
            }
        }

        function testToday() {
            const resultsDiv = document.getElementById('testResults');
            try {
                const today = new Date().toDateString();
                const testDate = new Date();

                if (testDate.toDateString() === today) {
                    resultsDiv.innerHTML = '<div class="status success">âœ… æ—¥æœŸåŠŸèƒ½æ­£å¸¸<br>ä»Šå¤©æ˜¯: ' + today + '</div>';
                } else {
                    resultsDiv.innerHTML = '<div class="status error">âŒ æ—¥æœŸåŠŸèƒ½å¼‚å¸¸</div>';
                }
            } catch (error) {
                resultsDiv.innerHTML = '<div class="status error">âŒ æµ‹è¯•å‡ºé”™: ' + error.message + '</div>';
            }
        }

        function clearData() {
            const resultsDiv = document.getElementById('testResults');
            try {
                localStorage.removeItem('water_records');
                resultsDiv.innerHTML = '<div class="status success">âœ… æµ‹è¯•æ•°æ®å·²æ¸…ç©º</div>';
            } catch (error) {
                resultsDiv.innerHTML = '<div class="status error">âŒ æ¸…ç©ºå¤±è´¥: ' + error.message + '</div>';
            }
        }
    </script>
</body>
</html>
